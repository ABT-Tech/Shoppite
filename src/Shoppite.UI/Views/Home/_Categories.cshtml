@model Shoppite.Application.Models.MainModel

@if (Model.ProductsDetails != null)
{
    @foreach (var item in Model.ProductsDetails.Where(x=>x.IsPublished == true && x.IsIncludeMenu == true).Take(4))
    {
        <li>
            <a href="">@item.maincaturlpath</a>
            <div class="megamenudown">
                <div class="mega-top">
                    @foreach (var subcat in item.SubcategoryDetails.Where(x=>x.IsPublished == true && x.IsIncludeMenu == true).Take(3))
                    {
                        <section class="mega-item-menu w-auto border-1" style="padding: 0px 20px 0px 0px; ">
                            <a class="title" asp-controller="Home" asp-route-CategoryId="@subcat.CategoryId" asp-action="AllProducts"><span>@subcat.CategoryName</span></a>
                            @foreach (var categories in subcat.ProductsDetails)
                            {
                                <a href="/ProductDetail/Details/@categories.ProductGuid" class="product_name_Over"><span>@categories.ProductName</span></a>
                            }
                        </section>
                    }
                </div>
            </div>
        </li>
    }
}